<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Advent of Code</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
      .list-group-item, .nav-link { cursor: pointer; }
    </style>
  </head>
  <body>
    <div class="container-fluid" style="margin: 1em;">
      <div class="row">
      	<div class="col-3">
          <ul id="users" class="list-group"></ul>
        </div>
        <div class="col-9">
          <ul class="nav nav-pills">
      	    <li class="nav-item">
	      <a class="nav-link part">A</a>
	    </li>
      	    <li class="nav-item">
	      <a class="nav-link part">B</a>
	    </li>
      	  </ul>
          <div id="preview" style="margin-top: 1em;"></div>
        </div>
      </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-cpp.min.js" integrity="sha512-8EwqvTiuBowYPkAp0PO9wsLgJuFwS3jDQoSqZW3w8pzMOyxF/P5jV1GKl5/NU3KSCl4cQP6CRi5gC2gne99cpg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-python.min.js" integrity="sha512-yIpe1UXrH/ZWwu3n7MdHNfMbPXftP0jlg9+lRhzlpbolElt33h3PGx9ICzqf/k+yca3QNzqcO3sdtKJuYRTi4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-rust.min.js" integrity="sha512-Z20cuLHOH7Jy/U062DeMb9DTgxYPP60ez2a6aSmb64nkc6H+M+8rIqfqoXFZ8P88qw8S/UsQZeeMvT1Bhw/ZHw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-fortran.min.js" integrity="sha512-amoBijQLmnEHSJ2h+W+kTDXVNEOJ4PkJQ3pLRnYg6yaEOBzzm5BR1FO8jIBp95uYbM1ZeZZo7sKPpmn2MoCZ/Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      const users = [
      	{
      	  name: "Alexander P",
      	  lang: "clike",
      	  solutionUrl: (day, part) => {
      	    return `https://raw.githubusercontent.com/Zeldacrafter/CompProg-Solutions/master/AdventOfCode/2021/${day + 1}/${part + 1}.cc`
      	  }
      	},
      	{
      	  name: "I3J03RN",
      	  lang: "clike",
      	  solutionUrl: (day, part) => {
      	    return `https://raw.githubusercontent.com/I3J03RN/ProgrammingChallenges/master/AoC/2021/${day + 1}.cc`
      	  }
      	},
      	{
      	  name: "Melf",
      	  lang: "clike",
      	  solutionUrl: (day, part) => {
            const _day = (day + 1).toString().padStart(2, "0");
            const _part = ["A", "B"][part];
      	    return `https://raw.githubusercontent.com/melfkammholz/aoc21/main/day${_day}/${_part}.cc`
      	  }
      	},
      	{
      	  name: "Estugon",
      	  lang: "clike",
      	  solutionUrl: (day, part) => {
      	    return `https://raw.githubusercontent.com/Estugon/Advent-Of-Code-2021/main/day${day + 1}/day${day + 1}.cpp`
      	  }
      	},
      	{
      	  name: "JulianGrabitzky",
      	  lang: "clike",
      	  solutionUrl: (day, part) => {
      	    const _part = ["a", "b"][part];
      	    return `https://raw.githubusercontent.com/JulianGrabitzky/advent-of-code-2021/main/day/${day + 1}/${_part}.py`
      	  }
      	},
      	{
      	  name: "H1ghBre4k3r",
      	  lang: "js",
      	  solutionUrl: (day, part) => {
            const _day = (day + 1).toString().padStart(2, "0");
      	    return `https://raw.githubusercontent.com/H1ghBre4k3r/advent-of-code-2021/main/day${_day}/solution0${part + 1}.js`
      	  }
      	},
      	{
      	  name: "l1k3ab0t",
      	  lang: "rust",
      	  solutionUrl: (day, part) => {
      	    return `https://raw.githubusercontent.com/l1k3ab0t/aoc2021/main/src/day${day + 1}.rs`
      	  }
      	},
      	{
      	  name: "LeoVerto",
      	  lang: "py",
      	  solutionUrl: (day, part) => {
             const _day = (day + 1).toString().padStart(2, "0");
             const _part = ["a", "b"][part];
      	    return `https://raw.githubusercontent.com/LeoVerto/advent-of-code-2021/main/days/${_day}/${_day}${_part}.py`
      	  }
      	},
      	{
      	  name: "Niatsuna",
      	  lang: "py",
      	  solutionUrl: (day, part) => {
             const _day = (day + 1).toString().padStart(2, "0");
      	    return `https://raw.githubusercontent.com/Niatsuna/advent-of-code-2021/master/${_day}.py`
      	  }
      	},
      	{
      	  name: "mjt001",
      	  lang: "py",
      	  solutionUrl: (day, part) => {
             const _day = (day + 1).toString().padStart(2, "0");
      	    return `https://raw.githubusercontent.com/mjt001/AdventofCode2021_mirror/main/${_day}/main${day + 1}${part + 1}.py`
      	  }
      	},
      	{
      	  name: "integermainvoid",
      	  lang: "py",
      	  solutionUrl: (day, part) => {
      	    return `https://raw.githubusercontent.com/integermainvoid/advent_of_code/main/day%20${day + 1}/aoc_${part + 1}.py`
      	  }
      	},
      	{
      	  name: "fwcd",
      	  lang: "fortran",
      	  solutionUrl: (day, part) => {
      	    // ???
      	    const _day = (day + 1).toString().padStart(2, "0");
      	    return `https://raw.githubusercontent.com/fwcd/advent-of-code-2021/main/day03/src/day03.f90`
      	  }
      	}
      ];
      
      const state = {
      	day: new Date().getDate() - 1,
      	part: 0,
      	index: 0
      };
      
      async function loadSolution(user, day, part) {
	const res = await fetch(user.solutionUrl(day, part))
        const code = await res.text();
        const preEl = document.createElement("pre");
        const codeEl = document.createElement("code");
        codeEl.classList.add(`language-${user.lang}`);
      	codeEl.innerHTML = Prism.highlight(code, Prism.languages[user.lang], user.lang);
      	preEl.appendChild(codeEl);
      	document.getElementById("preview").innerHTML = "";
      	document.getElementById("preview").appendChild(preEl);
      }
      
      users.forEach((user, index) => {
      	const el = document.createElement("li");
      	el.classList.add("list-group-item");
      	el.textContent = user.name;
      	el.addEventListener("click", () => {
      	  state.index = index;
      	  document.querySelector(".list-group-item.active").classList.remove("active");
      	  el.classList.add("active");
      	  loadSolution(users[state.index], state.day, state.part);
      	});
      	document.getElementById("users").appendChild(el);
      });
      
      
      Array.from(document.querySelectorAll(".part")).forEach((el, i) => {
      	el.addEventListener("click", () => {
      	  state.part = i;
      	  document.querySelector(".part.active").classList.remove("active");
      	  el.classList.add("active");
      	  loadSolution(users[state.index], state.day, state.part);
      	});
      });
      
      [...Array(new Date().getDate())].forEach((_, i) => {
      	const el = document.createElement("li");
      	el.classList.add("nav-item");
      	const aEl = document.createElement("a");
      	aEl.classList.add("nav-link");
      	aEl.classList.add("day");
      	aEl.textContent = i + 1;
      	aEl.addEventListener("click", () => {
      	  state.day = i;
      	  document.querySelector(".day.active").classList.remove("active");
      	  aEl.classList.add("active");
      	  loadSolution(users[state.index], state.day, state.part);
      	});
      	el.appendChild(aEl);
      	document.querySelector(".nav").appendChild(el);
      });
      
      document.querySelectorAll(".list-group-item")[state.index].classList.add("active");
      document.querySelectorAll(".part")[state.part].classList.add("active");
      document.querySelectorAll(".day")[state.day].classList.add("active");
      
      // loadSolution(users[state.index], state.day, state.part);
      
    </script>
  </body>
</html>

